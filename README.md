# MyBSCThesis

## *Introduction*
I will be doing a web interface for a bicycle counter project. The main goal is to collect data from files, which are generated by the counter itself and process those informations to a database. Then create a web platform to display the daily, monthly, etc. averages and view them in a map using Google's API.


## *Main Parts*
This full-stack project will consist of 3 part:
- [x] **Python code** —> *to read data from files*
- [ ] **Database** -> *to store data*
- [ ] **Front-End** —> *to show the gathered data*


## *What does the python code do?*
The code main purpose is to list out all the files, which are important to us then read them and sort the information. After doing that it will upload it to a database and store it there.

The code is consist of 3 python files:
- [x] **main.py** —> where the program runs
- [x] **file.py** -> where the file reading happens
- [x] **database.py** -> where the database communication happens


In both **'file_OOP.py', 'database.py'** files are *a class and functions*, which are used in the **'main.py'**.

### **PART ONE - GATHERING DATA**

In **'file_OOP.py'** file there's *a class* called **'File'** and *two functions* called **'readDirectory()', 'moveFile()'**.

- Function **'readDirectory()'** has two input parameter: *a str 'path'* and *a tuple 'ext'*.
  - **the 'path' string** should be the folder's path, where we store the given files. **The 'ext' tuple** on the other hand is cointaing all the possible file extensions ( like '.txt', '.png', '.xls', etc. )
  - given these input parameters, the function reads through the given folder using an *'os.scandir()'*[^1] and lists out all the files' names, which are matching with the given *tuple 'ext'* extensions
  - they will be stored in *a 'files' variable* and that's what the function is returning as well
 
- Function **'moveFile()'** has also two input parameter: *a str 'name'* and *a str 'path'*.
  - **the 'name' string** should be the file's name, and **the 'path' string** should be the folder's path, where the file will be stored after it's read.
  - using these parameters the function creates the file's new path
  - after that the function moves the file to the new folder using *'shutil.move()'*[^2]
  - at the end it compares the new destination with the 'shutil.move()' returned destination to check if the file movement was correct or not and *returns boolean* according to it

- The Class **'File'**:
  - has an *'__init__()'* function which has *a string 'name'* input parameter besides *'self'*
  - has *a 'getter', a 'setter' and a 'deleter'* which the code's using to get, set and delete file_name object -> *file's name*
    - *'getter'* -> * @property 'file_name()'*
    - *'setter'* -> * @file_name.setter 'file_name()'*
    - *'deleter'* -> * @file_name.deleter 'file_name()'*
  - besides these the class also has **a 'read_file()' function** as well
    - this function performs the actual *'file reading and information sorting'* part of the code
    - it creates *a 'lines' list* to stores file's information
    - it opens the file using the *'with open()'*[^3] then a for loop reads through the file line by line and stores each line into *an 'info' variable* first and then put it in the *a 'lines' list* created earlier.
    - after doing that it's sorting the information to: * a 'meas_name', a 'meas_time', a 'data_01' and a 'data_02' variables * also these are what the function returns
    - *the 'meas_time'* also converts a part of the given information stored in *a 'lines' list* to datetime format to fit in to the database, it uses *the 'datetime.strptime()' function*[^4]
    - *IMPORTANT NOTE:* the sorting method is only applies to this specific project and only to these specific data files created by the counter device

### **PART TWO - STORING DATABASE**


### **PART THREE - RUNNING THE CODE**


## *How does the database look like?*


[^1]: This is an imported function from the 'os' library.
[^2]: This is an imported function from the 'shutil' library.
[^3]: This is a built-in function.
[^4]: This is an imported function from the 'datetime' library.
